<div class="module">
    <app-module-header [title]="commonService.selectedStudentDetails.firstName + ' ' + commonService.selectedStudentDetails.surname"></app-module-header>

    <div class="user-icon"><i class="fa-solid fa-user"></i></div>

    <div class="list">
        <div class="list-title">Name</div>
        <div class="list-detail">{{ studentDetails?.firstName + ' ' + studentDetails?.secondName + ' ' + studentDetails?.surname }}</div>
    </div>
    <div class="list">
        <div class="list-title">Class</div>
        <div class="list-detail"> {{ studentDetails?.class }} </div>
    </div>
    <div class="list">
        <div class="list-title">Board</div>
        <div class="list-detail"> {{ studentDetails?.board }} </div>
    </div>
    <div class="list">
        <div class="list-title">Batch</div>
        <div class="list-detail"> {{ studentDetails?.batch }} </div>
    </div>
    <div class="list">
        <div class="list-title">Father's Number</div>
        <div class="list-detail"> {{ studentDetails?.fatherNumber }} </div>
    </div>
    <div class="list">
        <div class="list-title">Mother's Number</div>
        <div class="list-detail"> {{ studentDetails?.motherNumber }} </div>
    </div>
    <div class="list">
        <div class="list-title">WhatsApp Number</div>
        <div class="list-detail"> {{ studentDetails?.whatsAppNumber }} </div>
    </div>
    <div class="list">
        <div class="list-title">Date of Birth</div>
        <div class="list-detail"> {{ studentDetails?.dob | date }} </div>
    </div>

    <div class="accordion-container">
        <div class="accordion" id="studentDetailsAccordion">
            <div class="accordion-item">
                <h2 class="accordion-header" id="attendanceDetail">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#collapseAttendance'" aria-expanded="false" [attr.aria-controls]="'collapseAttendance'">
                        Attendance
                    </button>
                </h2>
                <div id="collapseAttendance" class="accordion-collapse collapse" [attr.aria-labelledby]="'attendanceDetail'" data-bs-parent="#studentDetailsAccordion">
                    <div class="accordion-body">
                        <div class="list" *ngFor="let attendance of studentDetails?.attendance">
                            <div class="list-title"> {{ commonService.getMonth(attendance._id) }} </div>
                            <div class="list-detail">  
                                <div>Present: {{ getCount(attendance.attendance, true) }} </div>    
                                <div>Absent:  {{ getCount(attendance.attendance, false) }}</div> 
                            </div>
                        </div>              
                    </div>
                </div>
            </div>
    
            <div class="accordion-item">
                <h2 class="accordion-header" id="resultDetail">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#collapseResult'" aria-expanded="false" [attr.aria-controls]="'collapseResult'">
                        Result
                    </button>
                </h2>
                <div id="collapseResult" class="accordion-collapse collapse" [attr.aria-labelledby]="'resultDetail'" data-bs-parent="#studentDetailsAccordion">
                    <div class="accordion-body">
                        <div class="accordion" id="studentResultDetailesAccordion">
                            <div class="accordion-item" *ngFor="let result of studentDetails?.result; let i = index;">
                                <h2 class="accordion-header" id="resultDetailedDetail{{i}}">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#collapseResultDetailed' + i" aria-expanded="false" [attr.aria-controls]="'collapseResultDetailed' + i">
                                        {{ result._id.subject }}
                                    </button>
                                </h2>
                                <div id="collapseResultDetailed{{i}}" class="accordion-collapse collapse" [attr.aria-labelledby]="'resultDetailedDetail' + i" data-bs-parent="#studentResultDetailesAccordion">
                                    <div class="accordion-body">
                                        <div class="list" *ngFor="let subjects of result.result; let z = index;">
                                            <div class="list-title"> Test {{ z + 1 }}  </div>
                                            <div class="list-detail"> {{subjects.marks}} / {{subjects.totalMarks}} </div>
                                        </div>              
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>              
                </div>
            </div>
        </div>
    </div>

</div>